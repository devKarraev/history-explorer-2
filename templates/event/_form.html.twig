{% if event is defined %}
    <div data-event-id="{{event.id}}" class="js-event-current"></div>
{% endif %}

{{ form_start(eventForm)}}

{% set refIndex = 0 %}
{% set refTypes = ['name'] %}

<table class="table table-striped">
    <tr>
        <td rowspan="3" class="col-sm-3">
            <div class="form-control">
                {{ form_widget(eventForm.imageFile) }}
                {% if event is defined %}
                <img class="show-article-img" src="{{  event.image|imagine_filter('squared_thumbnail_medium')  }}">
                {% endif %}
                <label for="event_form_imageFile" class="fa fa-pencil"></label>
            </div>
          </td>
        <td class="col-sm-3">
            <i class='fa fa-sticky-note fa-2x'></i>
            {{
                form_row(eventForm.name)
            }}
            {% if event is defined and event.referenceList('name') %}
                <a href="#{{ refIndex }}">[Quelle]</a>
                {% set refIndex = refIndex +1 %}
            {% endif %}
        </td>
        <td class="col-sm-3">
            <i class='fa fa-location-arrow fa-2x'></i>
            {{ form_row(eventForm.location) }}
        </td>
        <td class="col-sm-3">
            <i class='fa fa-eye-slash fa-2x'></i>
            {{ form_row(eventForm.hide) }}
        </td>
    </tr>
    <tr>
        <td class="col-sm-3">
            <i class='fa fa-clock-o fa-2x'></i>

            {{ form_row(eventForm.happenedAfter, {
                    attr: {
                        'data-event-next-url':path('next_event_select'),
                        class: 'js-event-prev'
                    }
            }) }}
        </td>
        <td class="col-sm-3">
            <i class='fa fa-clock-o fa-2x'></i>
            {{ form_row(eventForm.uncertainTime) }}
        </td>
        <td class="col-sm-3">
            <i class='fa fa-clock-o fa-2x'></i>
            {{ form_row(eventForm.happenedBefore, {
                attr: {
                    'data-event-prev-url': path('prev_event_select'),
                    class: 'js-event-next'
                }
            }) }}
        </td>
    </tr>
    <tr>
        <td class="col-sm-3"></td>
        <td class="col-sm-3">
            {{ form_row(eventForm.relativeTime) }}
        </td>
        <td class="col-sm-3"></td>
    </tr>
</table>

<button type="submit" class="btn btn-primary">{{ button_text }}</button>
{{ form_end(eventForm)}}
{#{'render_rest': false}#}
